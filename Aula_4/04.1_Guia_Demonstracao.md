# Navegação
[< Voltar](04_Laboratorio_Transformacao_Java.md) | [Índice](../Aula%204.md)

---

## Guia de Demonstração: Modernização do Projeto AirCompany

Este guia mostra como a IA pode realizar uma reengenharia completa no sistema.

### 1. Fase de Pré-Refatoração (Blindagem)

* **Baseline de Testes de Caracterização**
> **Prompt:** *"Analise o projeto no diretório Java, especificamente os serviços de gestão de voos e aeronaves. Como não existem testes automatizados, gere uma suíte de testes de integração usando JUnit 5 e AssertJ que cubra o fluxo principal de criação de um voo e associação com uma aeronave. Preciso deste baseline antes de modernizar o código."*

* **Mapeamento de Acoplamento e Dívida Técnica**
> **Prompt:** *"Identifique 'Code Smells' arquiteturais no projeto AirCompany. Verifique especialmente como as classes de serviço estão interagindo com as entidades de domínio e se há vazamento de lógica de persistência. Liste os riscos de quebrar o sistema ao migrar para Java 25."*

---

### 2. Fase de Execução (Transformação Assistida)

* **Migração de Versão e Otimização de Records**
> **Prompt:** *"Atualize o projeto para o Java 25. Transforme todas as classes no pacote `model` ou `dto` (como Voo, Aeronave, Passageiro) em **Java Records**, eliminando construtores manuais, getters e setters. Certifique-se de que a imutabilidade dos Records não quebre a lógica de atualização de status do voo."*

* **Refatoração de Domínio (Desacoplamento)**
> **Prompt:** *"Analise o projeto e identifique onde a lógica de negócio está misturada com chamadas diretas ao repositório ou banco de dados. Refatore o sistema para isolar as regras de validação (ex: não permitir voos sem aeronave ou com capacidade excedida) em Domain Services puros, deixando os controllers apenas como orquestradores."*

* **Modernização de Coleções e Streams**
> **Prompt:** *"No projeto AirCompany, substitua todos os loops `for` tradicionais e iterações manuais em listas de passageiros ou voos por **Java Streams** e **Sequenced Collections** do Java 21+. Torne o código mais declarativo e menos propenso a erros de índice."*

---

### 3. Fase de Pós-Refatoração (Validação e Evolução)

* **Implementação de Virtual Threads (Project Loom)**
> **Prompt:** *"O AirCompany lida com operações que podem ser bloqueantes. Refatore o mecanismo de agendamento ou processamento de check-in para utilizar **Virtual Threads** (Project Loom) do Java 21, visando aumentar o throughput do sistema sem a sobrecarga de threads nativas do SO."*

* **Audit de Segurança e Tratamento de Exceções**
> **Prompt:** *"Analise como o projeto trata erros. Substitua o uso de exceções genéricas ou retornos nulos por um `GlobalExceptionHandler` e utilize tipos mais semânticos. Verifique se a modernização introduziu vulnerabilidades de injeção de dados nos novos métodos de busca."*

* **Relatório de Modernização (Dívida Paga)**
> **Prompt:** *"Gere um comparativo técnico do projeto AirCompany 'Antes vs. Depois'. Quantas linhas de código boilerplate foram removidas com o uso de Records? Qual a melhoria estimada na legibilidade e manutenibilidade do sistema?"*

---

# Navegação
[< Voltar](04_Laboratorio_Transformacao_Java.md) | [Índice](../Aula%204.md)
